<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chatbot Voiceflow</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      overflow: hidden;
    }
    
    #chat-container {
      width: 100%;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
</head>
<body>
  <div id="chat-container">
    <!-- Le chatbot Voiceflow apparaîtra ici -->
  </div>

  <!-- Script d'intégration Voiceflow -->
  <script type="text/javascript">
    (function(d, t) {
      var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
      v.onload = function() {
        window.voiceflow.chat.load({
          verify: { projectID: 69792504e71042d368d3b268 }, // ⚠️ REMPLACE PAR TON PROJECT ID
          url: 'https://general-runtime.voiceflow.com',
          versionID: 'production'
        });
      }
      v.src = "https://cdn.voiceflow.com/widget/bundle.mjs";
      v.type = "text/javascript";
      s.parentNode.insertBefore(v, s);
    })(document, 'script');
  </script>

  <!-- Script pour envoyer les données vers Storyline -->
  <script>
    // Fonction pour envoyer les résultats à Storyline
    function envoyerVersStoryline(data) {
      if (window.parent && window.parent !== window) {
        window.parent.postMessage({
          type: 'voiceflow_diagnostic',
          data: data
        }, '*');
      }
    }

    // Écouter les événements de Voiceflow (si tu veux capturer des données)
    // Cette partie sera à adapter selon ton besoin spécifique
    window.addEventListener('message', function(event) {
      // Ici tu peux intercepter des messages de Voiceflow
      console.log('Message reçu:', event.data);
    });
  </script>
</body>
</html>